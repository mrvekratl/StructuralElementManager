<Window x:Class="StructuralElementManager.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:viewmodels="clr-namespace:StructuralElementManager.UI.ViewModels"
        Title="Structural Element Manager" 
        Height="600" Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <!-- ViewModel'i bağla -->
    <Window.DataContext>
        <viewmodels:MainViewModel/>
    </Window.DataContext>

    <!-- Ana Layout -->
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Toolbar -->
            <RowDefinition Height="*"/>
            <!-- Content -->
            <RowDefinition Height="Auto"/>
            <!-- Status Bar -->
        </Grid.RowDefinitions>

        <!-- TOP: TOOLBAR -->
        <ToolBar Grid.Row="0" Padding="10" Background="#2C3E50">
            <Button Content="➕ Add Test Column" 
                    Command="{Binding AddTestColumnCommand}"
                    Background="#27AE60" 
                    Foreground="White"
                    Padding="10,5"
                    Margin="5,0" Click="Button_Click"/>

            <Button Content="🗑️ Delete Selected" 
                    Command="{Binding DeleteColumnCommand}"
                    Background="#E74C3C" 
                    Foreground="White"
                    Padding="10,5"
                    Margin="5,0"/>

            <Separator/>

            <Button Content="🔄 Refresh" 
                    Command="{Binding RefreshDataCommand}"
                    Background="#3498DB" 
                    Foreground="White"
                    Padding="10,5"
                    Margin="5,0"/>
        </ToolBar>

        <!-- MIDDLE: CONTENT -->
        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- LEFT: COLUMN LIST -->
            <Border Grid.Column="0" 
                    BorderBrush="#BDC3C7" 
                    BorderThickness="1"
                    Background="White"
                    Margin="0,0,5,0">
                <DockPanel>
                    <TextBlock DockPanel.Dock="Top" 
                               Text="Structural Columns" 
                               FontSize="16" 
                               FontWeight="Bold"
                               Padding="10"
                               Background="#34495E"
                               Foreground="White"/>

                    <DataGrid ItemsSource="{Binding Columns}"
                              SelectedItem="{Binding SelectedColumn}"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              GridLinesVisibility="Horizontal"
                              AlternatingRowBackground="#ECF0F1">

                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Name" 
                                                Binding="{Binding Name}" 
                                                Width="*"/>

                            <DataGridTextColumn Header="Width" 
                                                Binding="{Binding Width}" 
                                                Width="*"/>

                            <DataGridTextColumn Header="Height" 
                                                Binding="{Binding Height}" 
                                                Width="*"/>

                            <DataGridTextColumn Header="Floor" 
                                                Binding="{Binding FloorLevel}" 
                                                Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </Border>

            <!-- RIGHT: DETAILS -->
            <Border Grid.Column="1" 
                    BorderBrush="#BDC3C7" 
                    BorderThickness="1"
                    Background="White"
                    Margin="5,0,0,0">
                <StackPanel Margin="15">
                    <TextBlock Text="Column Details" 
                               FontSize="16" 
                               FontWeight="Bold"
                               Margin="0,0,0,20"/>

                    <TextBlock Text="Name:" FontWeight="Bold"/>
                    <TextBlock Text="{Binding SelectedColumn.Name, FallbackValue='No selection'}" 
                               Margin="0,0,0,10"/>

                    <TextBlock Text="Dimensions:" FontWeight="Bold"/>
                    <TextBlock Margin="0,5">
                        <Run Text="Width: "/>
                        <Run Text="{Binding SelectedColumn.Width, FallbackValue='--'}"/>
                        <Run Text=" cm"/>
                    </TextBlock>
                    <TextBlock Margin="0,5">
                        <Run Text="Height: "/>
                        <Run Text="{Binding SelectedColumn.Height, FallbackValue='--'}"/>
                        <Run Text=" cm"/>
                    </TextBlock>
                </StackPanel>
            </Border>
        </Grid>

        <!-- BOTTOM: STATUS BAR -->
        <StatusBar Grid.Row="2" Background="#34495E">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusText}" Foreground="White"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>